(self.webpackChunkfoundation_zurb_template=self.webpackChunkfoundation_zurb_template||[]).push([[519],{972:function(t,n,e){var o=e(679),r=e(161),a=r;a.v1=o,a.v4=r,t.exports=a},318:function(t){for(var n=[],e=0;e<256;++e)n[e]=(e+256).toString(16).substr(1);t.exports=function(t,e){var o=e||0,r=n;return[r[t[o++]],r[t[o++]],r[t[o++]],r[t[o++]],"-",r[t[o++]],r[t[o++]],"-",r[t[o++]],r[t[o++]],"-",r[t[o++]],r[t[o++]],"-",r[t[o++]],r[t[o++]],r[t[o++]],r[t[o++]],r[t[o++]],r[t[o++]]].join("")}},42:function(t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var e=new Uint8Array(16);t.exports=function(){return n(e),e}}else{var o=new Array(16);t.exports=function(){for(var t,n=0;n<16;n++)0==(3&n)&&(t=4294967296*Math.random()),o[n]=t>>>((3&n)<<3)&255;return o}}},679:function(t,n,e){var o,r,a=e(42),i=e(318),c=0,l=0;t.exports=function(t,n,e){var u=n&&e||0,s=n||[],p=(t=t||{}).node||o,d=void 0!==t.clockseq?t.clockseq:r;if(null==p||null==d){var m=a();null==p&&(p=o=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==d&&(d=r=16383&(m[6]<<8|m[7]))}var f=void 0!==t.msecs?t.msecs:(new Date).getTime(),v=void 0!==t.nsecs?t.nsecs:l+1,h=f-c+(v-l)/1e4;if(h<0&&void 0===t.clockseq&&(d=d+1&16383),(h<0||f>c)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=f,l=v,r=d;var b=(1e4*(268435455&(f+=122192928e5))+v)%4294967296;s[u++]=b>>>24&255,s[u++]=b>>>16&255,s[u++]=b>>>8&255,s[u++]=255&b;var g=f/4294967296*1e4&268435455;s[u++]=g>>>8&255,s[u++]=255&g,s[u++]=g>>>24&15|16,s[u++]=g>>>16&255,s[u++]=d>>>8|128,s[u++]=255&d;for(var w=0;w<6;++w)s[u+w]=p[w];return n||i(s)}},161:function(t,n,e){var o=e(42),r=e(318);t.exports=function(t,n,e){var a=n&&e||0;"string"==typeof t&&(n="binary"===t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,n)for(var c=0;c<16;++c)n[a+c]=i[c];return n||r(i)}},519:function(t,n,e){"use strict";e.r(n);var o=e(425),r=e(453);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,o)}return e}function c(t,n,e){return(n=function(t){var n=function(t,n){if("object"!==a(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!==a(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===a(n)?n:String(n)}(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function l(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}var u=e(972).v4;$(document).ready((function(){(0,o.X9)("POST",{action:"getItems",data:"--"},(function(t){var n,e;e=t,n=JSON.parse(e).items.results.filter((function(t){return t.option1_value})).filter((function(t){return t.channels.map((function(t){return t.channel_id})).includes("sitoWebAsporto")})).filter((function(t){return t.on_sale})),window.allProducts=n,$("h2").parent().children(".grid-x").html(""),n.forEach((function(t){t.quantity=0;var n=$('h2:contains("'.concat(t.option1_value,'")')).parent().children(".grid-x");n.length?(function(t,n){var e=f("cell cellmann",n);(function(t,n){var e=h(t),o=f("product-page",f("hide-for-medium",n)),r=e+"_quadrato.jpg";v("img","",f("item-image",o),{src:"".concat(s).concat(r),onerror:"this.style.display='none'",alt:t.name});var a=f("item-text",o);v("span","price",v("h3","",a).html(t.name)).html(t.price1),v("p","",a).html(t.description),v("button","button small",f("item-button",o),{type:"button","data-open":e,css:{"margin-bottom":0}}).html("Seleziona")})(t,e),function(t,n){var e=h(t),o=f("card-section",f("card",f("show-for-medium",n))),r=e+"_rettangolare.jpg";v("img","show-for-medium",o,{src:"".concat(s).concat(r),onerror:"this.style.display='none'",alt:t.name}),v("span","price",v("h3","",o).html(t.name)).html(t.price1),v("small","",v("p","",o).html(t.description)).html("Allergeni: "+t.allergens.map((function(t){return t.name})).join(", ")),v("button","button small",o,{type:"button","data-open":e}).html("Seleziona")}(t,e)}(t,n),function(t,n){var e=h(t),r=e+"_rettangolare.jpg",a=v("div","reveal reveal-ecommerce",n,{id:e}),i=v("button","close-button close-button-sticky",a,{type:"button","aria-label":"Close reveal"}).append(v("span","",null,{"aria-hidden":!0}).html("&times;")).on("click",(function(){a.foundation("close")}));v("img","",a,{src:"".concat(s).concat(r),style:"margin-top:-3rem",onerror:"this.style.display='none'",alt:t.name}),v("h1","h1-modal",v("header","main-header",a)).html(t.name);var c=f("main-content",a);v("p","allergeni",v("small","",c).html(t.description)).html("Allergeni: "+t.allergens.map((function(t){return t.name})).join(", "),{maxlength:"200",css:{"min-height":"0.5rem"}});var l=v("textarea","modal-input-note",v("label","",c,{id:e+"_note"}).html("<strong>Note</strong>"),{maxlength:"200",placeholder:"...",css:{"min-height":"0.5rem"}});(function(t){return t.variations.map((function(t){return t.name})).includes("note")})(t)||$("#"+e+"_note").hide();var u=v("select","",v("label","",c,{id:e+"_cottura"}).html("<strong>Cottura</strong>"),{id:e+"cottura_","data-variation_id":b(t)}),p=function(t){var n=t.variations.filter((function(t){return"Cottura"===t.name}))[0];return n?n.variation_values:[]}(t);p.forEach((function(t){v("option","",u,{value:t.id}).html(t.value)})),0===p.length&&$("#"+e+"_cottura").hide();var d=v("footer","main-footer-carrello-small border-shadow",a),g=f("input-group input-number-group",d),w=1,y=w*t.price1;v("i","las la-minus-square la-2x",v("span","input-number-decrement",f("input-group-button group-margin",g)).click((function(){var t=$(this).parents(".input-number-group").find(".input-number"),n=parseInt(t.val(),10);(w=n-1)<0&&(w=0),t.val(w),O(w)}))),v("input","input-number group-margin modal-input-number",g,{css:{width:"3rem"},type:"button",value:"1",min:"0",max:"20"}),v("i","las la-plus-square la-2x",v("span","input-number-increment",f("input-group-button group-margin",g)).click((function(){var t=$(this).parents(".input-number-group").find(".input-number"),n=parseInt(t.val(),10);w=n+1,t.val(w),O(w)})));var S=v("span","price",v("button","button expanded-with-padding extra-space-button-modal",d,{type:"button"}).html("Aggiungi al carrello").on("click",(function(){var n=parseInt($("#".concat(e," .modal-input-number")).val(),10),r=(0,o.ao)(t.price1*n),a=$("#"+e+"cottura_ option:selected").text(),c=$("#"+e+"cottura_ option:selected").val();$("#"+e+"cottura_").data().variation_id,m(t,n,l,e,r,a,c),i.click()}))).html(" &nbsp;&nbsp;&nbsp;€&thinsp;".concat(y));function O(n){y=(0,o.ao)(t.price1*n),S.html(" €&thinsp;".concat(y))}new Foundation.Reveal(a.foundation())}(t,n)):console.log("sezione non trovata per il prodotto:",t.name)})),$("#carrelloPieno").hide(),$("#carrelloPiccoloPieno").hide(),function(){var t=window.localStorage.currentOrder;if(t){var n=JSON.parse(t);n&&n.forEach((function(t){var n=window.allProducts.filter((function(n){return n.id===t.id}));if(n.length){var e=n[0];e.quantity=t.quantity,e.noteText=t.noteText,e.rowUuid=t.rowUuid,e.cotturaV=t.cotturaV||"";var a=t.quantity*t.price1,i=(h(t),(0,r.v7)(t.name,t.noteText,t.cotturaV,t.quantity,(0,o.ao)(a),t.id,e.rowUuid));$(".itens-carrello-table").append(i),$(".input-number-increment-".concat(e.rowUuid)).click((function(){var n=$(this).data("row-uuid"),r=$(".input-number-".concat(n)),a=parseInt(r.val(),10);r.val(a+1);var i=a+1;e.quantity=i,$(".prezzo-item-".concat(n)).html((0,o.ao)(i*t.price1)),d(i,n),p()})),$(".input-number-decrement-".concat(e.rowUuid)).click((function(){var n=$(this).data("row-uuid"),e=$(".input-number-".concat(n)),r=parseInt(e.val(),10)-1;r<0&&(r=0),e.val(r),$(".prezzo-item-".concat(n)).html((0,o.ao)(r*t.price1)),0===r&&$(".carrello-row-".concat(n)).remove(),d(r,n),p()}))}})),p()}}(),(0,o.X9)("POST",{action:"getClosedTimeslots",data:"--"},(function(t){var n;window.closedTimeslots=new Set(t),(n=$(".orario-btn")).each((function(){var t=$(this),e=t.text(),o=!window.closedTimeslots.has(e);t.attr("disabled",!o),t.on("click",(function(){n.each((function(){$(this).attr("class","button orario-btn").attr("bselected",!1)})),t.attr("class","button orario-btn success").attr("bselected",!0),window.localStorage.timeSlot=e}))})),window.localStorage.timeSlot&&$('button:contains("'.concat(window.localStorage.timeSlot,'")')).click()}),(function(t){showMessage(messageError)})),$("#vai-checkout-large").off("click").on("click",(function(){window.localStorage.currentClient?window.location.href=o.jQ+"/checkout.html":$("#signup-login").foundation("open")})),$("#vai-checkout-small").off("click").on("click",(function(){window.localStorage.currentClient?window.location.href=o.jQ+"/checkout.html":$("#signup-login").foundation("open")}))}),(function(t){showMessage(messageError)}))}));var s=o.jQ+"/assets/img/prod/";function p(){var t=JSON.parse(window.localStorage.currentOrder||"[]"),n=0;t.forEach((function(t){n+=t.quantity*t.price1})),0===n?($("#carrelloPieno").hide(),$("#carrelloVuoto").show(),$("#carrelloPiccoloPieno").hide(),$("#carrelloPiccoloVuoto").show()):($("#carrelloPieno").show(),$("#carrelloVuoto").hide(),$("#carrelloPiccoloPieno").show(),$("#carrelloPiccoloVuoto").hide()),$(".carrello-table-totale").html(" &nbsp;&nbsp;€&ensp;".concat((0,o.ao)(n)));var e=0;t.forEach((function(t){e+=t.quantity})),$(".prod-quantity").html(" &nbsp;".concat(e))}function d(t,n){for(var e=JSON.parse(window.localStorage.currentOrder||"[]"),o=e.length-1;o>=0;o--){var r=e[o];r.rowUuid===n&&(t>0?r.quantity=t:e.splice(o,1))}window.localStorage.currentOrder=JSON.stringify(e)}var m=function(t,n,e,a,i,c,s){if(t.quantity=n,t.noteText=e.val(),t.rowUuid=u(),n){t.cotturaV=c,t.cotturaI=s,t.cotturaId=$("#"+a+"cottura_").data().variation_id;var m=(0,r.v7)(t.name,t.noteText,t.cotturaV,t.quantity,i,t.id,t.rowUuid);$(".itens-carrello-table").append(m)}!function(t,n,e,o){var r={};window.allProducts.forEach((function(n){n.id!==t||(r=n)})),r.cotturaV=n,r.quantity=e,r.rowUuid=o;var a=JSON.parse(window.localStorage.currentOrder||"[]"),i=[];if(0===a.length)return i.push(r),void(window.localStorage.currentOrder=JSON.stringify(i));var c,u=!1,s=function(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return l(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(t,n):void 0}}(t))){e&&(t=e);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==e.return||e.return()}finally{if(c)throw a}}}}(a);try{for(s.s();!(c=s.n()).done;){var p=c.value;p.rowUuid==r.rowUuid?(u=!0,i.push(r)):i.push(p)}}catch(t){s.e(t)}finally{s.f()}u||i.push(r),window.localStorage.currentOrder=JSON.stringify(i)}(t.id,t.cotturaV,t.quantity,t.rowUuid),p(),$(".modal-input-number").val(1),$(".modal-input-note").val(""),$(".extra-space-button-modal").each((function(){var t=$(this).closest(".reveal").attr("id"),n=window.allProducts.find((function(n){return h(n)===t}));n&&$(this).html("Aggiungi al carrello €".concat((0,o.ao)(n.price1)))})),$(".input-number-increment-".concat(t.rowUuid)).click((function(){var n=$(this).data("row-uuid"),e=$(".input-number-".concat(n)),r=parseInt(e.val(),10);e.val(r+1);var a=r+1;$(".prezzo-item-".concat(n)).html((0,o.ao)(a*t.price1)),d(a,n),p()})),$(".input-number-decrement-".concat(t.rowUuid)).click((function(){var n=$(this).data("row-uuid"),e=$(".input-number-".concat(n)),r=parseInt(e.val(),10)-1;r<0&&(r=0),e.val(r),$(".prezzo-item-".concat(n)).html((0,o.ao)(r*t.price1)),0===r&&$(".carrello-row-".concat(n)).remove(),d(r,n),p()}))};function f(t,n){return v("div",t,n)}function v(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=$("<".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div","/>"),function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?i(Object(e),!0).forEach((function(n){c(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({class:t||""},e||{}));return n&&o.appendTo(n),o}function h(t){return t.name.replaceAll(" ","").replaceAll("'","")}function b(t){var n=t.variations.filter((function(t){return"Cottura"===t.name}))[0];if(n)return n.id}},453:function(t,n,e){"use strict";e.d(n,{In:function(){return r},g$:function(){return a},v7:function(){return o}});var o=function(t,n,e,o,r,a,i){return e.replace(/\s+/g,""),'\n            <tr class="carrello-row-'.concat(i,'">\n                <td>\n                    <span class="titolo-item">').concat(t,'</span>\n                    <span class="note-item">').concat(n,'</span>\n                    <span class="cottura-item">').concat(e,'</span>\n                </td>\n                <td>\n                    <div class="input-group input-number-group">\n                        <div class="input-group-button">\n                            <span data-row-uuid="').concat(i,'" class="input-number-decrement input-number-decrement-').concat(i,'"><i class="las la-minus-square la-lg"></i></span>\n                        </div>\n                        <input class="input-number input-number-').concat(i,'" style="width:1.5rem; font-size: 0.8rem!important;" type="button" value="').concat(o,'" min="0" max="30">\n                        <div class="input-group-button">\n                            <span data-row-uuid="').concat(i,'" class="input-number-increment input-number-increment-').concat(i,'"><i class="las la-plus-square la-lg"></i></span>\n                        </div>\n                    </div>\n                </td>\n                <td>\n                    <span class="prezzo-item">€&thinsp;<span class="prezzo-item-').concat(i,'">').concat(r,"</span></span>\n                </td>\n            </tr>\n")},r=function(t,n,e,o,r){return'\n  \t<div class="checkout-summary-item align-middle">\n\t\t<div class="item-name">\n\t  \t\t<h1 class="titolo-item">'.concat(t,'</h1>\n            <p class="note-item">').concat(n,'</p>\n            <p class="cottura-item">').concat(e,'</p>\n\t  \t\t<p class="note-item">Quantità: ').concat(o,'</p>\n\t\t</div>\n        <div class="item-price">\n            <p class="prezzo-item">€&thinsp;').concat(r,"</p>\n        </div>\n  \t</div>\n")},a=function(t,n){var e=0,o=[];return t.forEach((function(t){e+=parseFloat(t.final_price);var n=t.variations?t.variations[0].value:"";o.push(i(t.name,t.notes,n,t.quantity,t.final_price))})),'\n<div class="clearfix">\n  <div id="itens-carrello-checkout">\n    '.concat(o.join("\n"),'\n  </div>\n  \t<div class="checkout-summary-details">\n\t    <div>\n\t      \t<h1 class="titolo-item">TOTALE:</h1>\n\t    </div>\n\t    <div class="item-price">\n\t      \t<h1 class="titolo-item" id="checkout-total">€&ensp;').concat(e.toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2}),'</h1>\n\t    </div>\n\t</div>\n    <button type="button" id="remove-').concat(n,'" class="clear button hollow alert float-left">Elimina</button>\n    <button type="button" id="load-').concat(n,'" class="button submit float-right" hidden>Metti nel carrello e modifica</button>\n</div>\n')},i=function(t,n,e,o,r){return'\n<div class="checkout-summary-item align-middle">\n  <div class="item-name">\n    <h1 class="titolo-item">'.concat(t,'</h1>\n    <p class="note-item">').concat(n,'</p>\n    <p class="cottura-item">').concat(e,'</p>\n    <p class="note-item">Quantità: ').concat(o,'</p>\n  </div>\n  <div class="item-price">\n    <p class="prezzo-item ">€&thinsp;').concat(r,"</p>\n  </div>\n</div>\n")}}}]);