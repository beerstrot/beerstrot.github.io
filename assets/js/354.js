"use strict";(self.webpackChunkfoundation_zurb_template=self.webpackChunkfoundation_zurb_template||[]).push([[354],{354:function(t,o,n){n.r(o);var r=n(425);function e(t,o,n){return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct.bind():function(t,o,n){var r=[null];r.push.apply(r,o);var e=new(Function.bind.apply(t,r));return n&&i(e,n.prototype),e},e.apply(null,arguments)}function i(t,o){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,o){return t.__proto__=o,t},i(t,o)}function a(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,o){if(t){if("string"==typeof t)return s(t,o);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,o):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,o){(null==o||o>t.length)&&(o=t.length);for(var n=0,r=new Array(o);n<o;n++)r[n]=t[n];return r}$(document).ready((function(){(0,r.X9)("POST",{action:"getClosedTimeslots",data:"--"},(function(t){var o,n;window.closedTimeslots=new Set(t),o=$(".orario-btn"),n=$("#last-time"),o.each((function(){var t=$(this);t.attr("disabled",!1);var o=t.text(),r=!window.closedTimeslots.has(o);r?t.attr("class","button orario-btn primary"):t.attr("class","button orario-btn secondary"),t.on("click",(function(){(r=!r)?(t.attr("class","button orario-btn primary"),n.html("".concat(o," aperto")),window.closedTimeslots.delete(o)):(t.attr("class","button orario-btn secondary"),n.html("".concat(o," chiuso")),window.closedTimeslots.add(o))}))})),$("<button/>",{type:"button",class:"button extra-space"}).html("Chiudi Asporti").appendTo($("#consolidate")).on("click",(function(){console.log("send to server"),n.html("In questi orari gli asporti non sono disponibili: "+e(Array,a(window.closedTimeslots)).join(", ")),(0,r.X9)("POST",{action:"consolidateTimeslots",data:e(Array,a(window.closedTimeslots))},(function(t){window.alert("Orari Asporti Aggiornati"),console.log({res:t})}),(function(t){showMessage(messageError)}))}))}),(function(t){showMessage(messageError)}))}))}}]);