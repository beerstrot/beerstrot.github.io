(self.webpackChunkfoundation_zurb_template=self.webpackChunkfoundation_zurb_template||[]).push([[898],{972:function(t,n,e){var r=e(679),o=e(161),a=o;a.v1=r,a.v4=o,t.exports=a},318:function(t){for(var n=[],e=0;e<256;++e)n[e]=(e+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,o=n;return[o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]]].join("")}},42:function(t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var e=new Uint8Array(16);t.exports=function(){return n(e),e}}else{var r=new Array(16);t.exports=function(){for(var t,n=0;n<16;n++)0==(3&n)&&(t=4294967296*Math.random()),r[n]=t>>>((3&n)<<3)&255;return r}}},679:function(t,n,e){var r,o,a=e(42),i=e(318),c=0,l=0;t.exports=function(t,n,e){var s=n&&e||0,u=n||[],d=(t=t||{}).node||r,p=void 0!==t.clockseq?t.clockseq:o;if(null==d||null==p){var m=a();null==d&&(d=r=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==p&&(p=o=16383&(m[6]<<8|m[7]))}var f=void 0!==t.msecs?t.msecs:(new Date).getTime(),v=void 0!==t.nsecs?t.nsecs:l+1,b=f-c+(v-l)/1e4;if(b<0&&void 0===t.clockseq&&(p=p+1&16383),(b<0||f>c)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=f,l=v,o=p;var w=(1e4*(268435455&(f+=122192928e5))+v)%4294967296;u[s++]=w>>>24&255,u[s++]=w>>>16&255,u[s++]=w>>>8&255,u[s++]=255&w;var y=f/4294967296*1e4&268435455;u[s++]=y>>>8&255,u[s++]=255&y,u[s++]=y>>>24&15|16,u[s++]=y>>>16&255,u[s++]=p>>>8|128,u[s++]=255&p;for(var g=0;g<6;++g)u[s+g]=d[g];return n||i(u)}},161:function(t,n,e){var r=e(42),o=e(318);t.exports=function(t,n,e){var a=n&&e||0;"string"==typeof t&&(n="binary"===t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,n)for(var c=0;c<16;++c)n[a+c]=i[c];return n||o(i)}},898:function(t,n,e){"use strict";e.r(n);var r=e(425),o=e(453);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function c(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?i(Object(e),!0).forEach((function(n){l(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function l(t,n,e){return(n=function(t){var n=function(t,n){if("object"!==a(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===a(n)?n:String(n)}(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function s(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return u(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==e.return||e.return()}finally{if(c)throw a}}}}function u(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var d=e(972).v4;function p(){["name","surname","email","telephone"].forEach((function(t){return $("#".concat(t,"-m")).val(window.user[t])})),$("#newsletter-m").prop("checked",user.newsletter),$("#ttitle").html("Ciao ".concat(user.name))}function m(t){var n,e=[],o=s(t);try{for(o.s();!(n=o.n()).done;){var a=c(c({},n.value),{},{rowUuid:d()});e.push(a)}}catch(t){o.e(t)}finally{o.f()}window.localStorage.currentOrder=JSON.stringify(e),window.location.href=r.jQ+"/checkout.html"}$(document).ready((function(){var t;window.localStorage.currentClient?window.user=JSON.parse(window.localStorage.currentClient):window.location.href="/#signup-login",$("#logout-btn").on("click",(function(){delete window.localStorage.currentClient,window.location.href="/"})),p(),$("#update-usr-btn").on("click",(function(){var t={};["name","surname","telephone","email"].forEach((function(n){var e;t[e=n]=$("#".concat(e,"-m")).val()})),t.newsletter=$("#newsletter-m").is(":checked"),(0,r.X9)("POST",{action:"updateClient",data:t},(function(t){["name","surname","telephone","newsletter"].forEach((function(n){window.user[n]=t.Attributes[n]})),p(),window.localStorage.currentClient=JSON.stringify(window.user)}),(function(t){showMessage(messageError)}))})),window.user.orders&&(t="gennaio, febbraio, marzo, aprile, maggio, giugno, luglio, agosto, settembre, ottobre, novembre, dicembre".split(", "),$("#carrelli-accordion").empty(),user.orders.forEach((function(n,e){if(n.sale_items){var a=new Date(n.deliver_at),i="Ordine del ".concat(a.getDate()," ").concat(t[a.getMonth()]," ").concat(a.getFullYear()),c=$("<li/>",{class:"accordion-item","data-accordion-item":!0}).appendTo($("#carrelli-accordion"));$("<a/>",{class:"accordion-title",href:"#order-"+e}).html(i).appendTo(c);var l=(0,o.g$)(n.sale_items,e);$("<div/>",{class:"accordion-content ordine-salvato-content clearfix","data-tab-content":!0,id:"order-"+e}).appendTo(c).html(l),$("#load-"+e).show(),$("#remove-"+e).show(),$("#load-"+e).on("click",(function(){return t=e,n={email:window.user.email,order_index:t},void(0,r.X9)("POST",{action:"loadPreviousOrder",data:n},(function(t){if(t.result)if(t.details.unavailable_items.length>0){$("#unavailable-items").empty();var n,e=s(t.details.unavailable_items);try{for(e.s();!(n=e.n()).done;){var r=n.value;$("#unavailable-items").append("<li>"+r+"</li>")}}catch(t){e.e(t)}finally{e.f()}window.localStorage.tempOrder=JSON.stringify(t.details.available_items),new Foundation.Reveal($("#noProdotti")).open()}else m(t.details.available_items);else alert(t.details)}),(function(t){alert("Qualcosa è andato storto. Contattaci al numero  071 8853384 oppure inviaci una email a info@beerstrot.it. Grazie")}));var t,n})),$("#remove-"+e).on("click",(function(){return t=e,n={email:window.user.email,order_index:t},void(0,r.X9)("POST",{action:"deletePreviousOrder",data:n},(function(t){var n=JSON.parse(window.localStorage.currentClient);delete n.orders,n.orders=JSON.parse(JSON.stringify(t)),window.localStorage.currentClient=JSON.stringify(n),location.reload()}),(function(t){alert("Qualcosa è andato storto. Contattaci al numero  071 8853384 oppure inviaci una email a info@beerstrot.it. Grazie")}));var t,n}))}}))),$("#poppas-test").click((function(t){new Foundation.Reveal($("#noProdotti")).open()})),$("#confirm-order-load").click((function(t){var n=JSON.parse(window.localStorage.tempOrder);delete window.localStorage.tempOrder,m(n)}))}))},453:function(t,n,e){"use strict";e.d(n,{In:function(){return o},g$:function(){return a},v7:function(){return r}});var r=function(t,n,e,r,o,a,i){return e.replace(/\s+/g,""),'\n            <tr class="carrello-row-'.concat(i,'">\n                <td>\n                    <span class="titolo-item">').concat(t,'</span>\n                    <span class="note-item">').concat(n,'</span>\n                    <span class="cottura-item">').concat(e,'</span>\n                </td>\n                <td>\n                    <div class="input-group input-number-group">\n                        <div class="input-group-button">\n                            <span data-row-uuid="').concat(i,'" class="input-number-decrement input-number-decrement-').concat(i,'"><i class="las la-minus-square la-lg"></i></span>\n                        </div>\n                        <input class="input-number input-number-').concat(i,'" style="width:1.5rem; font-size: 0.8rem!important;" type="button" value="').concat(r,'" min="0" max="30">\n                        <div class="input-group-button">\n                            <span data-row-uuid="').concat(i,'" class="input-number-increment input-number-increment-').concat(i,'"><i class="las la-plus-square la-lg"></i></span>\n                        </div>\n                    </div>\n                </td>\n                <td>\n                    <span class="prezzo-item">€&thinsp;<span class="prezzo-item-').concat(i,'">').concat(o,"</span></span>\n                </td>\n            </tr>\n")},o=function(t,n,e,r,o){return'\n  \t<div class="checkout-summary-item align-middle">\n\t\t<div class="item-name">\n\t  \t\t<h1 class="titolo-item">'.concat(t,'</h1>\n            <p class="note-item">').concat(n,'</p>\n            <p class="cottura-item">').concat(e,'</p>\n\t  \t\t<p class="note-item">Quantità: ').concat(r,'</p>\n\t\t</div>\n        <div class="item-price">\n            <p class="prezzo-item">€&thinsp;').concat(o,"</p>\n        </div>\n  \t</div>\n")},a=function(t,n){var e=0,r=[];return t.forEach((function(t){e+=parseFloat(t.final_price);var n=t.variations?t.variations[0].value:"";r.push(i(t.name,t.notes,n,t.quantity,t.final_price))})),'\n<div class="clearfix">\n  <div id="itens-carrello-checkout">\n    '.concat(r.join("\n"),'\n  </div>\n  \t<div class="checkout-summary-details">\n\t    <div>\n\t      \t<h1 class="titolo-item">TOTALE:</h1>\n\t    </div>\n\t    <div class="item-price">\n\t      \t<h1 class="titolo-item" id="checkout-total">€&ensp;').concat(e.toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2}),'</h1>\n\t    </div>\n\t</div>\n    <button type="button" id="remove-').concat(n,'" class="clear button hollow alert float-left">Elimina</button>\n    <button type="button" id="load-').concat(n,'" class="button submit float-right" hidden>Metti nel carrello e modifica</button>\n</div>\n')},i=function(t,n,e,r,o){return'\n<div class="checkout-summary-item align-middle">\n  <div class="item-name">\n    <h1 class="titolo-item">'.concat(t,'</h1>\n    <p class="note-item">').concat(n,'</p>\n    <p class="cottura-item">').concat(e,'</p>\n    <p class="note-item">Quantità: ').concat(r,'</p>\n  </div>\n  <div class="item-price">\n    <p class="prezzo-item ">€&thinsp;').concat(o,"</p>\n  </div>\n</div>\n")}}}]);